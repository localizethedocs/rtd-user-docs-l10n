

<!DOCTYPE html>
<html class="writer-html5" lang="en-US" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="Skip builds based on conditions" />
<meta property="og:type" content="website" />
<meta property="og:url" content="guides/build/skip-build.html" />
<meta property="og:site_name" content="Read the Docs Documentation" />
<meta property="og:description" content="Read the Docs provides a special build cancellation mechanism that allows you to programmatically skip builds based on custom conditions. This is useful when you want to avoid unnecessary documentation builds, saving build time and resources. Table of contents: How it works, When to skip builds, ..." />
<meta property="og:image" content="https://docs.readthedocs.io/en/latest/_static/img/logo-opengraph.png" />
<meta property="og:image:alt" content="Read the Docs Documentation" />
<meta name="description" content="Read the Docs provides a special build cancellation mechanism that allows you to programmatically skip builds based on custom conditions. This is useful when you want to avoid unnecessary documentation builds, saving build time and resources. Table of contents: How it works, When to skip builds, ..." />
<meta name="twitter:card" content="summary_large_image" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Skip builds based on conditions &mdash; Read the Docs user documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css?v=ca6f9a36" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/sphinx_prompt_css.css?v=351d85e3" />

  
    <link rel="canonical" href="https://projects.localizethedocs.org/rtd-user-docs-l10n/guides/build/skip-build.html" />
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=a48b73ee"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
      <script src="../../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../../_static/js/expand_tabs.js?v=1e151f68"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="How-to guides: upgrading and maintaining projects" href="../maintenance/index.html" />
    <link rel="prev" title="How to manage versions automatically" href="../automation-rules.html" />

   

  

<script type="text/javascript" src="../../ltd-provenance.js"></script>
<script type="text/javascript" src="../../ltd-current.js"></script>
<script type="text/javascript" src="../../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html">
            
              <img src="../../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/add-project.html">Adding a documentation project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/doctools.html">Popular documentation tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Example projects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project setup and configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../config-file/index.html">Configuration file overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config-file/v2.html">Configuration file reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../addons.html">Read the Docs Addons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro/accounts.html">Account authentication methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../automation-rules.html">Automation rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reproducible-builds.html">How to create reproducible builds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Build process</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../builds.html">Build process overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build-customization.html">Build process customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/git-integration.html">Git integration (GitHub, GitLab, Bitbucket)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../pull-requests.html">Pull request previews</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../build-notifications.html">Build failure notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../environment-variables.html">Environment variable overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/environment-variables.html">Environment variable reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hosting documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../subprojects.html">Subprojects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../localization.html">Localization and Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versioning-schemes.html">URL versioning schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom-domains.html">Custom domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../doc-notifications.html">Documentation notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../canonical-urls.html">Canonical URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/cdn.html">Content Delivery Network (CDN) and caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/sitemaps.html">Sitemap support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/404-not-found.html"><code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></code> pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/robots.html"><code class="docutils literal notranslate"><span class="pre">robots.txt</span></code> support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reading documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../downloadable-documentation.html">Offline formats (PDF, ePub, HTML)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../visual-diff.html">Visual diff</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../link-previews.html">Link previews</a></li>
<li class="toctree-l1"><a class="reference internal" href="../embedding-content.html">How to embed content from your documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server-side-search/index.html">Server side search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../server-side-search/syntax.html">Search query syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../flyout-menu.html">Flyout menu</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Maintaining projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../user-defined-redirects.html">Redirects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../traffic-analytics.html">Traffic analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../search-analytics.html">Search analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security-log.html">Security logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../badges.html">Status badges</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../explanation/documentation-structure.html">How to structure your documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../best-practice/links.html">Best practices for linking to your documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security-implications.html">Security considerations for documentation pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/main-content-detection.html">Main content detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../custom-script.html">Custom script</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Business features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../commercial/index.html">Business hosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commercial/organizations.html">Organizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commercial/single-sign-on.html">Single sign-on (SSO)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commercial/sharing.html">Sharing private documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commercial/subscriptions.html">How to manage your subscription</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commercial/privacy-level.html">Privacy levels</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Project setup and configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Build process</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="email-notifications.html">Setup email notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="webhooks.html">Setting up outgoing webhooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pull-requests.html">Configuring pull request builds</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environment-variables.html">Using custom environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../automation-rules.html">Managing versions automatically</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Skip builds based on conditions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#how-it-works">How it works</a></li>
<li class="toctree-l3"><a class="reference internal" href="#when-to-skip-builds">When to skip builds</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#skip-builds-when-documentation-files-haven-t-changed">Skip builds when documentation files haven’t changed</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skip-builds-based-on-commit-message">Skip builds based on commit message</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skip-builds-for-specific-branch-patterns">Skip builds for specific branch patterns</a></li>
<li class="toctree-l4"><a class="reference internal" href="#skip-builds-based-on-file-types">Skip builds based on file types</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#best-practices">Best practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance/index.html">Upgrading and maintaining projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../content/index.html">Content, themes and SEO</a></li>
<li class="toctree-l1"><a class="reference internal" href="../access/index.html">Security and access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../management/index.html">Account management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../best-practice/index.html">Best practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/index.html">Troubleshooting problems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Public REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">About Read the Docs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://dev.readthedocs.io">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://about.readthedocs.com">Read the Docs website</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Read the Docs user documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">How-to guides: build process</a></li>
      <li class="breadcrumb-item active">Skip builds based on conditions</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/readthedocs/readthedocs.org/blob/main/docs/user/guides/build/skip-build.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="skip-builds-based-on-conditions">
<h1>Skip builds based on conditions<a class="headerlink" href="#skip-builds-based-on-conditions" title="Link to this heading"></a></h1>
<p>Read the Docs provides a special build cancellation mechanism that allows you to programmatically skip builds
based on custom conditions. This is useful when you want to avoid unnecessary documentation builds,
saving build time and resources.</p>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#how-it-works" id="id5">How it works</a></p></li>
<li><p><a class="reference internal" href="#when-to-skip-builds" id="id6">When to skip builds</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id7">Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#skip-builds-when-documentation-files-haven-t-changed" id="id8">Skip builds when documentation files haven’t changed</a></p></li>
<li><p><a class="reference internal" href="#skip-builds-based-on-commit-message" id="id9">Skip builds based on commit message</a></p></li>
<li><p><a class="reference internal" href="#skip-builds-for-specific-branch-patterns" id="id10">Skip builds for specific branch patterns</a></p></li>
<li><p><a class="reference internal" href="#skip-builds-based-on-file-types" id="id11">Skip builds based on file types</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#best-practices" id="id12">Best practices</a></p></li>
<li><p><a class="reference internal" href="#limitations" id="id13">Limitations</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting" id="id14">Troubleshooting</a></p></li>
</ul>
</nav>
<section id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Link to this heading"></a></h2>
<p>When any command in your build process exits with the special exit code <code class="docutils literal notranslate"><span class="pre">183</span></code>,
Read the Docs will immediately cancel the build.
The build will be marked as cancelled and will not consume build time or resources beyond that point.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Why exit code 183?</p>
<p>The exit code 183 was chosen because it represents the word “skip” encoded in ASCII.</p>
<div class="highlight-pycon notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="s2">&quot;skip&quot;</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s2">&quot;ascii&quot;</span><span class="p">)))</span>
<span class="go">439</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">439</span> <span class="o">%</span> <span class="mi">256</span>  <span class="c1"># Unix exit codes are limited to 0-255</span>
<span class="go">183</span>
</pre></div>
</div>
<p>The 256 modulo operation is necessary because <a class="reference external" href="https://tldp.org/LDP/abs/html/exitcodes.html">Unix exit codes are limited to 0-255</a>,
and any value larger than 255 is automatically reduced by taking the modulo 256.</p>
</div>
</section>
<section id="when-to-skip-builds">
<h2>When to skip builds<a class="headerlink" href="#when-to-skip-builds" title="Link to this heading"></a></h2>
<p>There are several scenarios where you might want to skip documentation builds:</p>
<dl class="simple">
<dt><strong>Save resources on irrelevant changes</strong></dt><dd><p>Skip builds when changes don’t affect documentation,
such as changes only to source code, tests, or CI configuration files.</p>
</dd>
<dt><strong>Avoid redundant builds</strong></dt><dd><p>Skip builds for draft pull requests, work-in-progress branches,
or commits with specific markers like <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">ci]</span></code> in the commit message.</p>
</dd>
<dt><strong>Conditional documentation updates</strong></dt><dd><p>Only build documentation when specific files or directories are modified,
such as the <code class="docutils literal notranslate"><span class="pre">docs/</span></code> folder or configuration files.</p>
</dd>
<dt><strong>Branch-specific logic</strong></dt><dd><p>Skip builds on certain branches that don’t require documentation updates,
such as experimental or development branches.</p>
</dd>
</dl>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Link to this heading"></a></h2>
<p>The following examples demonstrate common use cases for skipping builds.
All examples use the <a class="reference internal" href="../../config-file/v2.html#build-jobs"><span class="std std-ref">build.jobs</span></a> configuration key
in your <code class="docutils literal notranslate"><span class="pre">.readthedocs.yaml</span></code> file.</p>
<section id="skip-builds-when-documentation-files-haven-t-changed">
<h3>Skip builds when documentation files haven’t changed<a class="headerlink" href="#skip-builds-when-documentation-files-haven-t-changed" title="Link to this heading"></a></h3>
<p>This example skips pull request builds when there are no changes to documentation-related files
compared to the <code class="docutils literal notranslate"><span class="pre">main</span></code> branch:</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">.readthedocs.yaml</span><a class="headerlink" href="#id1" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">build</span><span class="p">:</span>
<span class="w">  </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ubuntu-22.04&quot;</span>
<span class="w">  </span><span class="nt">tools</span><span class="p">:</span>
<span class="w">    </span><span class="nt">python</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.12&quot;</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post_checkout</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Cancel building pull requests when there aren&#39;t changes in the docs directory or YAML file.</span>
<span class="w">      </span><span class="c1"># If there are no changes (git diff exits with 0) we force the command to return with 183.</span>
<span class="w">      </span><span class="c1"># This is a special exit code on Read the Docs that will cancel the build immediately.</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">if [ &quot;$READTHEDOCS_VERSION_TYPE&quot; = &quot;external&quot; ] &amp;&amp; git diff --quiet origin/main -- docs/ .readthedocs.yaml;</span>
<span class="w">        </span><span class="no">then</span>
<span class="w">          </span><span class="no">exit 183;</span>
<span class="w">        </span><span class="no">fi</span>
</pre></div>
</div>
</div>
<p>You can customize this example by:</p>
<ul class="simple">
<li><p>Adding more paths to check: <code class="docutils literal notranslate"><span class="pre">docs/</span> <span class="pre">.readthedocs.yaml</span> <span class="pre">requirements/docs.txt</span></code></p></li>
<li><p>Checking against a different branch: <code class="docutils literal notranslate"><span class="pre">origin/develop</span></code> instead of <code class="docutils literal notranslate"><span class="pre">origin/main</span></code></p></li>
<li><p>Using different comparison operators to check for specific file patterns</p></li>
</ul>
</section>
<section id="skip-builds-based-on-commit-message">
<h3>Skip builds based on commit message<a class="headerlink" href="#skip-builds-based-on-commit-message" title="Link to this heading"></a></h3>
<p>This example skips builds when the commit message contains <code class="docutils literal notranslate"><span class="pre">[skip</span> <span class="pre">ci]</span></code> or <code class="docutils literal notranslate"><span class="pre">[ci</span> <span class="pre">skip]</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">.readthedocs.yaml</span><a class="headerlink" href="#id2" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">build</span><span class="p">:</span>
<span class="w">  </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ubuntu-22.04&quot;</span>
<span class="w">  </span><span class="nt">tools</span><span class="p">:</span>
<span class="w">    </span><span class="nt">python</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.12&quot;</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post_checkout</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Use `git log` to check if the latest commit contains &quot;skip ci&quot;,</span>
<span class="w">      </span><span class="c1"># in that case exit the command with 183 to cancel the build</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(git --no-pager log --pretty=&quot;tformat:%s -- %b&quot; -1 | paste -s -d &quot; &quot; | grep -viq &quot;skip ci&quot;) || exit 183</span>
</pre></div>
</div>
</div>
<p>This pattern is commonly used in CI/CD systems to skip builds for administrative commits,
such as version bumps or documentation typos.</p>
</section>
<section id="skip-builds-for-specific-branch-patterns">
<h3>Skip builds for specific branch patterns<a class="headerlink" href="#skip-builds-for-specific-branch-patterns" title="Link to this heading"></a></h3>
<p>This example skips builds for branches that match certain patterns,
such as personal development branches:</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">.readthedocs.yaml</span><a class="headerlink" href="#id3" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">build</span><span class="p">:</span>
<span class="w">  </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ubuntu-22.04&quot;</span>
<span class="w">  </span><span class="nt">tools</span><span class="p">:</span>
<span class="w">    </span><span class="nt">python</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.12&quot;</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post_checkout</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Skip builds for branches starting with &quot;dev/&quot; or &quot;experiment/&quot;</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">if echo &quot;$READTHEDOCS_GIT_IDENTIFIER&quot; | grep -qE &quot;^(dev|experiment)/&quot;; then</span>
<span class="w">          </span><span class="no">exit 183;</span>
<span class="w">        </span><span class="no">fi</span>
</pre></div>
</div>
</div>
</section>
<section id="skip-builds-based-on-file-types">
<h3>Skip builds based on file types<a class="headerlink" href="#skip-builds-based-on-file-types" title="Link to this heading"></a></h3>
<p>This example skips builds when all changes are to non-documentation files,
such as only images or data files:</p>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">.readthedocs.yaml</span><a class="headerlink" href="#id4" title="Link to this code"></a></div>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">2</span>
<span class="nt">build</span><span class="p">:</span>
<span class="w">  </span><span class="nt">os</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;ubuntu-22.04&quot;</span>
<span class="w">  </span><span class="nt">tools</span><span class="p">:</span>
<span class="w">    </span><span class="nt">python</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;3.12&quot;</span>
<span class="w">  </span><span class="nt">jobs</span><span class="p">:</span>
<span class="w">    </span><span class="nt">post_checkout</span><span class="p">:</span>
<span class="w">      </span><span class="c1"># Skip if only non-documentation files changed (e.g., only images or data files)</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">        </span><span class="no">if [ &quot;$READTHEDOCS_VERSION_TYPE&quot; = &quot;external&quot; ]; then</span>
<span class="w">          </span><span class="no"># Get list of changed files</span>
<span class="w">          </span><span class="no">CHANGED_FILES=$(git diff --name-only origin/main)</span>
<span class="w">          </span><span class="no"># Check if any changed files are documentation-related.</span>
<span class="w">          </span><span class="no"># If ALL files are non-documentation (grep finds no documentation files),</span>
<span class="w">          </span><span class="no"># then we skip the build by exiting with 183.</span>
<span class="w">          </span><span class="no">if ! echo &quot;$CHANGED_FILES&quot; | grep -qE &quot;\.(rst|md|py|yaml|yml|txt|toml)$&quot;; then</span>
<span class="w">            </span><span class="no">exit 183;</span>
<span class="w">          </span><span class="no">fi</span>
<span class="w">        </span><span class="no">fi</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="best-practices">
<h2>Best practices<a class="headerlink" href="#best-practices" title="Link to this heading"></a></h2>
<p>When implementing skip build logic, consider these best practices:</p>
<dl class="simple">
<dt><strong>Test your conditions locally</strong></dt><dd><p>Before deploying skip build logic, test your bash conditions locally
to ensure they work as expected. Remember that the condition failing will cancel your build.</p>
</dd>
<dt><strong>Be specific with your conditions</strong></dt><dd><p>Write clear and specific conditions to avoid accidentally skipping builds
that should run. Overly broad conditions might prevent important documentation updates.</p>
</dd>
<dt><strong>Document your skip logic</strong></dt><dd><p>Add comments in your <code class="docutils literal notranslate"><span class="pre">.readthedocs.yaml</span></code> file explaining why builds are skipped
and under what conditions. This helps future maintainers understand the configuration.</p>
</dd>
<dt><strong>Consider the impact on pull requests</strong></dt><dd><p>If you skip builds on pull requests, reviewers won’t have preview documentation.
Make sure this aligns with your team’s review process.</p>
</dd>
<dt><strong>Use environment variables</strong></dt><dd><p>Leverage <a class="reference internal" href="../../reference/environment-variables.html"><span class="doc">Read the Docs environment variables</span></a>
like <code class="docutils literal notranslate"><span class="pre">READTHEDOCS_VERSION_TYPE</span></code> to make your conditions more precise.</p>
</dd>
</dl>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Link to this heading"></a></h2>
<p>Be aware of these limitations when using the skip build feature:</p>
<dl class="simple">
<dt><strong>No partial cancellation</strong></dt><dd><p>Once a build is cancelled with exit code 183, the entire build stops immediately.
You cannot selectively skip only certain parts of the build process.</p>
</dd>
<dt><strong>Not available in configuration file</strong></dt><dd><p>You cannot skip builds using conditions in the <code class="docutils literal notranslate"><span class="pre">.readthedocs.yaml</span></code> configuration syntax itself.
All logic must be implemented in bash commands.</p>
</dd>
<dt><strong>Build is counted as cancelled</strong></dt><dd><p>Cancelled builds appear in your build history as cancelled, not as skipped or successful.
This is different from builds that never start due to branch/version filters.</p>
</dd>
<dt><strong>Webhook notifications still trigger</strong></dt><dd><p>Even though the build is cancelled, webhook notifications (if configured) may still be sent
with a cancelled status.</p>
</dd>
</dl>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<dl class="simple">
<dt><strong>Build is not being skipped</strong></dt><dd><ul class="simple">
<li><p>Verify your condition logic is correct by testing it locally</p></li>
<li><p>Check that the command is returning exit code 183 specifically</p></li>
<li><p>Ensure you’re using the correct <a class="reference internal" href="../../reference/environment-variables.html"><span class="doc">environment variables</span></a></p></li>
<li><p>Review the build logs to see if your condition is being evaluated</p></li>
</ul>
</dd>
<dt><strong>Builds are being skipped unexpectedly</strong></dt><dd><ul class="simple">
<li><p>Review your condition logic to ensure it’s not too broad</p></li>
<li><p>Check for syntax errors in your bash commands</p></li>
<li><p>Verify that file paths and branch names are correct</p></li>
<li><p>Test the condition in different scenarios (PRs, branches, tags)</p></li>
</ul>
</dd>
<dt><strong>Cannot access Git information</strong></dt><dd><ul class="simple">
<li><p>Some Git operations require a full clone. If you need Git history,
you might need to <a class="reference external" href="https://docs.readthedocs.io/en/stable/build-customization.html#unshallow-git-clone">unshallow the clone</a></p></li>
<li><p>Ensure you’re running your skip logic in <code class="docutils literal notranslate"><span class="pre">post_checkout</span></code> to have access to the repository</p></li>
</ul>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../automation-rules.html" class="btn btn-neutral float-left" title="How to manage versions automatically" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../maintenance/index.html" class="btn btn-neutral float-right" title="How-to guides: upgrading and maintaining projects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Read the Docs, Inc &amp; contributors.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>