

<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="How to configure pull request builds" />
<meta property="og:type" content="website" />
<meta property="og:url" content="guides/pull-requests.html" />
<meta property="og:site_name" content="Read the Docs Documentation" />
<meta property="og:description" content="In this section, you can learn how to configure pull request builds. To enable pull request builds for your project, your Read the Docs project needs to be connected to a repository from a supported Git provider. See Limitations for more information. Go to your project dashboard, Go to Settings, ..." />
<meta property="og:image" content="https://docs.readthedocs.io/en/latest/_static/img/logo-opengraph.png" />
<meta property="og:image:alt" content="Read the Docs Documentation" />
<meta name="description" content="In this section, you can learn how to configure pull request builds. To enable pull request builds for your project, your Read the Docs project needs to be connected to a repository from a supported Git provider. See Limitations for more information. Go to your project dashboard, Go to Settings, ..." />
<meta name="twitter:card" content="summary_large_image" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>How to configure pull request builds &mdash; Read the Docs user documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
      <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=ca6f9a36" />
      <link rel="stylesheet" type="text/css" href="../_static/css/sphinx_prompt_css.css?v=351d85e3" />

  
    <link rel="canonical" href="https://projects.localizethedocs.org/rtd-user-docs-l10n/guides/pull-requests.html" />
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=15a98406"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/translations.js?v=beaddf03"></script>
      <script src="../_static/design-tabs.js?v=f930bc37"></script>
      <script src="../_static/js/expand_tabs.js?v=1e151f68"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="How to use custom environment variables" href="environment-variables.html" />
    <link rel="prev" title="Setting up outgoing webhooks" href="build/webhooks.html" />

   

  

<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/add-project.html">Adding a documentation project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/doctools.html">Popular documentation tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Example projects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project setup and configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../config-file/index.html">Configuration file overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config-file/v2.html">Configuration file reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../addons.html">Read the Docs Addons</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro/accounts.html">Account authentication methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automation-rules.html">Automation rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="reproducible-builds.html">How to create reproducible builds</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Build process</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../builds.html">Build process overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build-customization.html">Build process customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/git-integration.html">Git integration (GitHub, GitLab, Bitbucket)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pull-requests.html">Pull request previews</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build-notifications.html">Build failure notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environment-variables.html">Environment variable overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/environment-variables.html">Environment variable reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Hosting documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../subprojects.html">Subprojects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../localization.html">Localization and Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versioning-schemes.html">URL versioning schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../custom-domains.html">Custom domains</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-notifications.html">Documentation notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../canonical-urls.html">Canonical URLs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/cdn.html">Content Delivery Network (CDN) and caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/sitemaps.html">Sitemap support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/404-not-found.html"><code class="docutils literal notranslate"><span class="pre">404</span> <span class="pre">Not</span> <span class="pre">Found</span></code> pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/robots.html"><code class="docutils literal notranslate"><span class="pre">robots.txt</span></code> support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reading documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../downloadable-documentation.html">Offline formats (PDF, ePub, HTML)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visual-diff.html">Visual diff</a></li>
<li class="toctree-l1"><a class="reference internal" href="../link-previews.html">Link previews</a></li>
<li class="toctree-l1"><a class="reference internal" href="embedding-content.html">How to embed content from your documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-side-search/index.html">Server side search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-side-search/syntax.html">Search query syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../flyout-menu.html">Flyout menu</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Maintaining projects</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../user-defined-redirects.html">Redirects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../traffic-analytics.html">Traffic analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../search-analytics.html">Search analytics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-log.html">Security logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../badges.html">Status badges</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/documentation-structure.html">How to structure your documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="best-practice/links.html">Best practices for linking to your documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security-implications.html">Security considerations for documentation pages</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Business features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../commercial/index.html">Business hosting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commercial/organizations.html">Organizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commercial/single-sign-on.html">Single sign-on (SSO)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commercial/sharing.html">Sharing private documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commercial/subscriptions.html">How to manage your subscription</a></li>
<li class="toctree-l1"><a class="reference internal" href="../commercial/privacy-level.html">Privacy levels</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup/index.html">Project setup and configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="build/index.html">Build process</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="build/email-notifications.html">Setup email notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="build/webhooks.html">Setting up outgoing webhooks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuring pull request builds</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#privacy-levels">Privacy levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="environment-variables.html">Using custom environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="automation-rules.html">Managing versions automatically</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="maintenance/index.html">Upgrading and maintaining projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="content/index.html">Content, themes and SEO</a></li>
<li class="toctree-l1"><a class="reference internal" href="access/index.html">Security and access</a></li>
<li class="toctree-l1"><a class="reference internal" href="management/index.html">Account management</a></li>
<li class="toctree-l1"><a class="reference internal" href="best-practice/index.html">Best practice</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting/index.html">Troubleshooting problems</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/index.html">Public REST API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">About Read the Docs</a></li>
<li class="toctree-l1"><a class="reference external" href="https://dev.readthedocs.io">Developer Documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://about.readthedocs.com">Read the Docs website</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Read the Docs user documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="build/index.html">How-to guides: build process</a></li>
      <li class="breadcrumb-item active">How to configure pull request builds</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/readthedocs/readthedocs.org/blob/main/docs/user/guides/pull-requests.rst" class="fa fa-github"> 在 GitHub 上编辑</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="how-to-configure-pull-request-builds">
<h1>How to configure pull request builds<a class="headerlink" href="#how-to-configure-pull-request-builds" title="Link to this heading"></a></h1>
<p>In this section, you can learn how to configure <a class="reference internal" href="../pull-requests.html"><span class="doc">pull request builds</span></a>.</p>
<p>To enable pull request builds for your project,
your Read the Docs project needs to be connected to a repository from a supported Git provider.
See <a class="reference internal" href="#limitations">Limitations</a> for more information.</p>
<ol class="arabic simple">
<li><p>Go to your project dashboard</p></li>
<li><p>Go to <span class="guilabel">Settings</span>, then <span class="guilabel">Pull request builds</span></p></li>
<li><p>Enable the <span class="guilabel">Build pull requests for this project</span> option</p></li>
<li><p>Click on <span class="guilabel">Update</span></p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>Pull requests opened before enabling pull request builds will not trigger new builds automatically.
Push a new commit to the pull request to trigger its first build.</p>
</div>
<section id="privacy-levels">
<h2>Privacy levels<a class="headerlink" href="#privacy-levels" title="Link to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Privacy levels are only supported on <a class="reference internal" href="../commercial/index.html"><span class="doc">Business hosting</span></a>.</p>
</div>
<p>If you didn’t import your project manually and your repository is public,
the privacy level of pull request previews will be set to <em>Public</em>,
otherwise it will be set to <em>Private</em>.
Public pull request previews are available to anyone with the link to the preview,
while private previews are only available to users with access to the Read the Docs project.</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>If you set the privacy level of pull request previews to <em>Private</em>,
make sure that only trusted users can open pull requests in your repository.</p>
<p>Setting pull request previews to private on a public repository can allow a malicious user
to access read-only APIs using the user's session that is reading the pull request preview.
Similar to <a class="reference external" href="https://github.com/readthedocs/readthedocs.org/security/advisories/GHSA-pw32-ffxw-68rh">GHSA-pw32-ffxw-68rh</a>.</p>
</div>
<p>To change the privacy level:</p>
<ol class="arabic simple">
<li><p>Go to your project dashboard</p></li>
<li><p>Go to <span class="guilabel">Settings</span>, then <span class="guilabel">Pull request builds</span></p></li>
<li><p>Select your option in <span class="guilabel">Privacy level of builds from pull requests</span></p></li>
<li><p>Click on <span class="guilabel">Update</span></p></li>
</ol>
<p>Privacy levels work the same way as <a class="reference internal" href="../versions.html#version-states"><span class="std std-ref">normal versions</span></a>.</p>
</section>
<section id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Pull requests are only available for <strong>GitHub</strong> and <strong>GitLab</strong> currently. Bitbucket is not yet supported.</p></li>
<li><p>To enable this feature, your Read the Docs project needs to be connected to a repository from a supported Git provider.</p></li>
<li><p>If your project is using our <a class="reference internal" href="../reference/git-integration.html#github-app"><span class="std std-ref">GitHub App</span></a>, you don't need to configure a webhook.
For GitLab, and projects using our old GitHub integration, you need to make sure that your webhook is configured to send pull request events, not just push events.</p></li>
<li><p>Builds from pull requests have the same memory and time limitations
<a class="reference internal" href="../builds.html"><span class="doc">as regular builds</span></a>.</p></li>
<li><p>Additional formats like PDF aren't built in order to reduce build time.</p></li>
<li><p>Read the Docs doesn't index search on pull request builds. This means that Addons search and the Read the Docs Search API will return no results.</p></li>
<li><p>The built documentation is kept for 90 days after the pull request has been closed or merged.</p></li>
<li><p>In order to have pull request build links automatically added to your pull requests, you must configure an automation to accomplish this with your Git provider. For example, see <a class="reference external" href="https://github.com/readthedocs/actions/blob/v1/preview/README.md">these instructions</a> to configure with GitHub Actions.</p></li>
</ul>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading"></a></h2>
<dl>
<dt>No new builds are started when I open a pull request</dt><dd><p>The most common cause when using GitHub is that your Read the Docs project is not
<a class="reference internal" href="../reference/git-integration.html#connect-a-repository-to-an-existing-project"><span class="std std-ref">connected to the corresponding repository on GitHub</span></a>.</p>
<p>If you are using our old GitHub integration,
make sure that your repository's webhook is configured to
send pull request events. You can re-sync your project's
webhook integration to reconfigure the Read the Docs webhook.</p>
<p>To re-sync your project's webhook, go to your project's admin dashboard,
<span class="guilabel">Integrations</span>, and then select the webhook integration for your
provider. Follow the directions to re-sync the webhook, or create a new
webhook integration.</p>
<p>You may also notice this behavior if your Read the Docs account is not
connected to your Git provider account, or if it needs to be reconnected.
You can (re)connect your account by going to your <span class="guilabel">&lt;Username dropdown&gt;</span>,
<span class="guilabel">Settings</span>, then to <span class="guilabel">Connected Services</span>.</p>
</dd>
<dt>Pull request build links (such as those generated from <a class="reference external" href="https://github.com/readthedocs/actions/blob/v1/preview/README.md">the official GitHub Action</a>) return a 404 error</dt><dd><p>This means that a build is not being triggered.</p>
<p>Verify your repository's webhook is properly synced with Read the Docs, and configured to send pull request events. For GitHub, you can check this by visiting the &quot;Webhooks&quot; section of the repository's &quot;Settings&quot; page. For your Read the Docs webhook, under &quot;Which events would you like to trigger this webhook?&quot;, choose &quot;Send Me Everything,&quot; or manually select push events and all events relevant to pull requests.</p>
</dd>
<dt>Build status is not being reported to your Git provider</dt><dd><p>If opening a pull request does start a new build, but the build status is not
being updated with your Git provider, then your connected account may have out
dated or insufficient permissions.</p>
<p>Make sure that you have granted access to the Read the Docs <a class="reference external" href="https://github.com/settings/applications">GitHub OAuth App</a> for
your personal or organization GitHub account.</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<ul class="simple">
<li><p><a class="reference internal" href="setup/git-repo-manual.html#debugging-webhooks"><span class="std std-ref">Debugging webhooks</span></a></p></li>
<li><p><a class="reference internal" href="../reference/git-integration.html#github-permission-troubleshooting"><span class="std std-ref">GitHub permission troubleshooting</span></a></p></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="build/webhooks.html" class="btn btn-neutral float-left" title="Setting up outgoing webhooks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="environment-variables.html" class="btn btn-neutral float-right" title="How to use custom environment variables" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 Read the Docs, Inc &amp; contributors。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>